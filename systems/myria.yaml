name: Myria
version: 51
path: /home/bhaynes/research/myria/
backupPath: /tmp/backup
instrumentation:
  classPaths:
    - build/libs/*
  port: 7780
  timeout: 60
  trace: $DIR/templates/ImportTracer.java
  agent: $DIR/lib/btrace-agent.jar
  logs: /tmp
  commands: ^(?!(org.jetbrains|org.brandonhaynes.pipegen|com.intellij.idea)).*
  classes: .*GradleWorkerMain
  debug: false
optimization:
  classPaths:
    - build/libs/myria-0.1.jar
    - build/libs/commons-csv-1.1.jar
  excludeClassPaths:
    - build/libs/scala*.jar
    - build/libs/commons-beanutils*.jar
    - build/libs/jetty*.jar
    - build/libs/a*.jar
    - build/libs/j*.jar
    - build/libs/s*.jar
    - build/libs/x*.jar
datapipe:
  import: /home/bhaynes/research/myria/gradlew -Dtest.single=FileScanTest jar cleanTest test #-Dtest.debug
#TODO  export: ./gradlew -Dtest.single=DataSinkTest compileJava cleanTest test
  export: ./gradlew -Dtest.single=DataSinkTest cleanTest test
  verify:
    - unzip -o build/libs/myria-0.1.jar -d build/main | grep brandonhaynes | cat
    - ./gradlew -Dtest.single=FileScanTest -x compileJava cleanTest test
    - ./gradlew -Dtest.single=DataSinkTest -x compileJava cleanTest test
  debug: true
