name: Myria
version: 51
path: /home/bhaynes/research/myria/
classPaths:
  - build/libs/*
instrumentation:
  port: 7780
  timeout: 60
  trace: $DIR/templates/ImportTracer.java
  agent: $DIR/lib/btrace-agent.jar
  logs: /tmp
  commands: ^(?!(org.jetbrains|org.brandonhaynes.pipegen|com.intellij.idea)).*
  classes: .*GradleWorkerMain
  debug: false
optimization:
  excludeClassPaths:
    - build/libs/scala*.jar
    - build/libs/commons-beanutils*.jar
    - build/libs/jetty*.jar
    - build/libs/a*.jar
    - build/libs/j*.jar
    - build/libs/s*.jar
    - build/libs/x*.jar
datapipe:
  build:  ./gradlew -Dtest.single=FileScanTest clean jar
  import: ./gradlew -Dtest.single=FileScanTest test
  export: ./gradlew -Dtest.single=DataSinkTest cleanTest test
  verify:
    - unzip -o build/libs/myria-0.1.jar -d build/main | grep brandonhaynes
    - ./gradlew -Dtest.single=FileScanTest -x compileJava cleanTest test
    - ./gradlew -Dtest.single=DataSinkTest -x compileJava cleanTest test
  debug: true
